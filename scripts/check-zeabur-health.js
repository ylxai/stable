/**
 * Check Zeabur Socket.IO Health
 * Generated by migration script
 */

const { ZeaburSocketIONotifications } = require('../src/lib/zeabur-socketio-notifications.ts');

async function checkHealth() {
  console.log('üè• Checking Zeabur Socket.IO Health...');
  
  try {
    const health = await ZeaburSocketIONotifications.checkHealth();
    const stats = await ZeaburSocketIONotifications.getStats();
    
    console.log('\nüìä Health Status:');
    console.log(`Status: ${health.status}`);
    console.log(`Uptime: ${health.uptime}s`);
    console.log(`Connections: ${health.connections}`);
    
    if (stats) {
      console.log('\nüìà Connection Stats:');
      console.log(`Total Connections: ${stats.totalConnections}`);
      console.log(`Admin Connections: ${stats.adminConnections}`);
      console.log(`Event Rooms: ${stats.eventRooms?.length || 0}`);
    }
    
    if (health.status === 'healthy') {
      console.log('\n‚úÖ Socket.IO server is healthy!');
    } else {
      console.log('\n‚ö†Ô∏è Socket.IO server has issues');
    }
  } catch (error) {
    console.error('‚ùå Health check failed:', error);
  }
}

checkHealth();
